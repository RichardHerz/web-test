<!doctype html>
<html>
<head>
  <meta charset="utf-8">

  <!-- THIS VIEWPORT LINE FROM MACAW -->
<!-- <meta name="viewport" content="initial-scale=1.0"> -->

<!-- THIS VIEWPORT LINE IN HTML HEAD IS KEY TO GETTING @MEDIA TO WORK ON PHONE -->
<!-- https://www.w3schools.com/html/html_responsive.asp -->
<!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->

<meta name="viewport" content="width=device-width, initial-scale=2">

  <title>Reactor Lab web app experiment</title>

  <!-- load style sheets for this lab  -->
  <link rel="stylesheet" href="css/standardize.css">
  <link rel="stylesheet" href="css/index-grid.css">
  <link rel="stylesheet" href="css/index.css">

  <!-- load main Javascript for this lab -->
  <script language="javascript" src="js/process_main.js" type="text/javascript"></script>
  <script language="javascript" src="js/process_units.js" type="text/javascript"></script>
  <script language="javascript" src="js/process_interface.js" type="text/javascript"></script>
  <script language="javascript" src="js/process_plotter.js" type="text/javascript"></script>

  <!-- load flot PLOTTING LIBRARY -->
  <!-- need full jquery.js for flot.js to work -->
  <script language="javascript" src="js/jquery.js" type="text/javascript"></script>
  <script language="javascript" src="js/flot_library/jquery.flot.js" type="text/javascript"></script>
  <script language="javascript" src="js/flot_library/jquery.flot.axislabels.js" type="text/javascript"></script>

</head>
<body class="body page-index clearfix">
  <div id="reactor" class="container_reactor container_reactor-1 clearfix">
    <img id="reactorImage" class="image_reactorimage image_reactorimage-1" src="images/reactor.png">
    <div id="reactorContents" class="element_reactorcontents element_reactorcontents-1"></div>
  </div>

<!-- units: (1) reactor feed, (2) reactor, (3) feed to jacket, (4) jacket, (5) controller
Values set by inputs below:
(1) enterFeedConc, enterFeedTTemp, enterFeedFlowRate
(2) enterdelH, enterEa, enterk300
(3) enterJacketFlowRate
(4) enterJacketUA
(5) enterResetTime, enterGain, enterSetpoint
Alternatives: in input tag onchange, invoke either updateUIparams() in main.js or
invoke specific unit_#.updateUIparams() for relevant unit #
-->

  <div id="reactionParams" class="container_reactionparams container_reactionparams-1">
    <p id="enterdelHLABEL" class="text_enterdelhlabel text_enterdelhlabel-1">Enter reaction ∆H (kJ/mol)</p>
    <input id="enterdelH" value=-250 onchange="unit_2.updateUIparams()" class="enterdelh enterdelh-1" name="enterdelH" type="text">
    <p class="text_enterealabel text_enterealabel-1">Enter reaction ∆Ea (kJ/mol)</p>
    <input id="enterEa" value=200 onchange="unit_2.updateUIparams()" class="enterea enterea-1" name="enterEa" type="text">
    <p class="text_enterk300label text_enterk300label-1">Enter reaction k300 (1/s)</p>
    <input id="enterk300" value=5e-6 onchange="unit_2.updateUIparams()" class="enterk300 enterk300-1" name="enterk300" type="text">
  </div>
  <div id="operatingParams" class="container_operatingparams container_operatingparams-1">
    <p id="enterJacketUALABEL" class="text_enterjacketua text_enterjacketua-1">Enter jacket UA (kJ/s/K)</p>
    <input id="enterJacketUA" value=20 onchange="unit_4.updateUIparams()" class="enterjacketua enterjacketua-1" name="enterJacketUA" type="text">
    <p id="enterJacketFlowRateLABEL" class="text_enterjacketflowratelabel text_enterjacketflowratelabel-1">Enter jacket flow rate (m<sup>3</sup>/s)</p>
    <input id="enterJacketFlowRate" value=0.05 onchange="unit_3.updateUIparams()" class="enterjacketflowrate enterjacketflowrate-1" name="enterJacketFlowRate" type="text">
    <p id="enterFeedConcLABEL" class="text_enterfeedconclabel text_enterfeedconclabel-1">Enter feed conc. (mol/m<sup>3</sup>)</p>
    <input id="enterFeedConc" value=400 onchange="unit_1.updateUIparams()" class="enterfeedconc enterfeedconc-1" name="enterFeedConc" type="text">
    <p id="enterFeedTTempLABEL" class="text_enterfeedttemplabel text_enterfeedttemplabel-1">Enter feed T (K)</p>
    <input id="enterFeedTTemp" value=300 onchange="unit_1.updateUIparams()" class="enterfeedttemp enterfeedttemp-1" name="enterFeedTTemp" type="text">
    <p id="enterFeedFlowRateLABEL" class="text_enterfeedflowrate text_enterfeedflowrate-1">Enter feed flow rate (m<sup>3</sup>/s)</p>
    <input id="enterFeedFlowRate" value=0.005 onchange="unit_1.updateUIparams()" class="enterfeedflowrate enterfeedflowrate-1" name="enterFeedFlowRate" type="text">
  </div>
  <div id="controller" class="container_controller container_controller-1 clearfix">
    <button id="copyDataButton" onclick="copyData()" class="copydatabutton copydatabutton-1">Copy data</button>
    <!-- input id="enterJacketFeedTTemp" MAY BE type="hidden" on open page; changed by unit_5.changeMode -->
    <input id="enterJacketFeedTTemp" value=348 onchange="unit_5.updateUIparams()" class="enterjacketfeedttemp enterjacketfeedttemp-1" name="enterJacketFeedTTemp" type="input">
    <!-- <p> id="enterJacketFeedTTempLABEL" MAY HAVE css visibility:hidden on open page; changed by unit_5.changeMode -->
    <p id="enterJacketFeedTTempLABEL" class="text_enterjacketfeedttemplabel text_enterjacketfeedttemplabel-1">Enter jacket inlet T (K)</p>
    <p id="enterResetTimeLABEL" class="text_enterresettimelabel text_enterresettimelabel-1">Enter reset time (&gt; 0 s)</p>
    <input id="enterResetTime" value=30 onchange="unit_5.updateUIparams()" class="enterresettime enterresettime-1" name="enterResetTime" type="text">
    <p id="enterGainLABEL" class="text_entergainlabel text_entergainlabel-1">Enter controller gain</p>
    <input id="enterGain" value=2 onchange="unit_5.updateUIparams()" class="entergain entergain-1" name="enterGain" type="text">
    <p id="enterSetpointLABEL" class="text_entersetpointlabel text_entersetpointlabel-1">Enter reactor T set point (K)</p>
    <input id="enterSetpoint" value=340 onchange="unit_5.updateUIparams()" class="entersetpoint entersetpoint-1" name="enterSetpoint" type="text">
    <div id="plotCanvas" class="plotcanvas plotcanvas-1"></div>
    <label class="radio-label radio-label-1 clearfix">
      <input id="radio_controllerAUTO" onchange="unit_5.changeMode()" name="control_mode" class="radio_controllerauto radio_controllerauto-1" type="radio">
      <span id="radio_autoLABEL" class="radio_autolabel radio_autolabel-1">Auto Control</span>
    </label>
    <label class="radio-label radio-label-2 clearfix">
      <input id="radio_controllerMANUAL" checked onchange="unit_5.changeMode()" name="control_mode" class="radio_controllermanual radio_controllermanual-1" type="radio">
      <span id="radio_manualLABEL" class="radio_manuallabel radio_manuallabel-1">Manual</span>
    </label>
  </div>
  <input id="resetButton" onclick="resetThisLab()" class="reset reset-1" type="button" value="Reset">
  <input id="runButton" onclick="runThisLab()" class="run run-1" type="button" value="Run">

  <p><a href="../index.html" id="backButton" class="backbutton backbutton-1">Back to Web test</a> </p>

<div id="topPageText" class="text_toppagetext text_toppagetext-1">
    <p>Web app experiment 3 - HTML5</p>
    <p>&nbsp;</p>
    <p>A 1st-order, essentially irreversible reaction in a continuous stirred tank reactor (CSTR).
      The controller varies the jacket inlet T to control reactor T.
      Reactor volume = 0.1 m<sup>3</sup>, jacket volume = 0.02 m<sup>3</sup>, density = 1000 kg/m<sup>3</sup>, heat capacity = 2.0 kJ/kg/K.
      <font color="blue">Click the Run button to start. Hit the enter key or click out of field after changing inputs.</font>
    </p><p>&nbsp;<p></p><p>
      At default values in manual mode with <b>constant inputs</b>, the system <b>oscillates</b>. Then put into Auto Control.</p>
</div>
</body>
</html>
