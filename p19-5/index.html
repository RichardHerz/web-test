<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>

  <title>Web Labs at ReactorLab.net</title>

  <meta name='description' content='bioreactor'>
  <meta name='description' content='multiple steady states'>
  <meta name='description' content='oscillation'>

  <!-- A VIEWPORT META LINE IN HTML HEAD IS NECESSARY FOR CSS @MEDIA TO WORK -->
  <!-- ID used to modify with Javascript after initial loading - OR EDIT HERE -->
  <!-- suggest use content width = div_simFrame width + 2 * div_simFrame left, and no scale -->
  <meta id='meta-viewport' name='viewport' content='width=650'>

  <!-- load CSS style sheets for this lab  -->
  <link rel="stylesheet" href="css/index.css">

  <!-- load SPECIFIC JAVASCRIPT for this lab -->

  <script language="javascript" src="js/process_sim_params.js" type="text/javascript"></script>
  <script language="javascript" src="js/puBioRxrFeed.js" type="text/javascript"></script>
  <script language="javascript" src="js/puBioRxrController.js" type="text/javascript"></script>
  <script language="javascript" src="js/puBioreactor.js" type="text/javascript"></script>
  <script language="javascript" src="js/process_units.js" type="text/javascript"></script>
  <script language="javascript" src="js/process_plot_info.js" type="text/javascript"></script>

  <!-- load COMMON JAVASCRIPT for Web Labs -->
  <script language="javascript" src="../web_labs_JS/process_controller.js" type="text/javascript"></script>
  <script language="javascript" src="../web_labs_JS/process_interface.js" type="text/javascript"></script>
  <script language="javascript" src="../web_labs_JS/process_plotter_flot.js" type="text/javascript"></script>

  <!-- load flot.js PLOTTING LIBRARY -->
  <script language="javascript" src="../web_labs_JS/jquery/new_jquery/jquery-3.3.1.min.js" type="text/javascript"></script>
  <script language="javascript" src="../web_labs_JS/jquery/new_jquery/jquery.flot.min-0.8.3.js" type="text/javascript"></script>
  <script language="javascript" src="../web_labs_JS/jquery/new_jquery/jquery.flot.axislabels-20141122.js" type="text/javascript"></script>

  <!-- initialize simulation after loading of this window -->
  <script language="javascript">
      // this works as script in html file but not in external js files
      window.onload = controller.openThisLab; // can NOT use () after openThisLab
  </script>

</head>
<body>
    <div id="div_page_header">
      <!-- output field can be used in development by controller to display timing -->
      <!-- uncomment next line and comment the following <p> and contents -->
      <!-- <p id="field_output_field"></p> -->
      <p></p>
      <a href="http://reactorlab.net/web-labs/">Back</a> to Web Labs at ReactorLab.net
      <p><b><i>Biomass growth in continuous stirred tank reactor (CSTR), a bioreactor</i></b></p>
      <p>
        The  reactor volume is fixed at 0.1 m<sup>3</sup>.
        <font color="blue">Click the Run button to start. Hit the enter key or click out of field after changing inputs.</font>
      </p>
      <p>
        Biomass growth rate = MUmax * substrate conc / (Ks + substrate conc)
        <br>
        Yield function = (Vmin + a * substrate conc)^p
        <br>
        Substrate consumption rate = (Biomass growth rate / Yield function) * biomass conc
      </p>
    </div> <!-- end of div div_page_header -->
  <div id="div_simFrame">
     <div id="div_reactor">
        <img id="image_reactorImage" src="images/reactor.png">
           <div id="div_PLOTDIV_reactorContents">
           </div> <!-- end of div div_PLOTDIV_reactorContents -->
     </div> <!-- end of div div_reactor -->
     <input type="button" id="button_resetButton" value="Reset" value="Reset" onclick="interface.resetThisLab()">
     <input type="button" id="button_runButton" value="Run" value="Run" onclick="interface.runThisLab()">
     <div id="div_operatingParams">
        <p id="field_enter_Va_LABEL">
              Enter a (m<sup shift="-4">3</sup>/kg)
        </p>
        <input id="input_field_enter_Va" value="0.03" onchange="processUnits[1].updateUIparams()">
        <p id="field_enter_Vp_LABEL">
              Enter p
        </p>
        <input id="input_field_enter_Vp" value="0.6" onchange="processUnits[1].updateUIparams()">
        <p id="field_enterVminLABEL">
              Enter Vmin
        </p>
        <input id="input_field_enterVmin" value="0.01" onchange="processUnits[1].updateUIparams()">
        <p id="field_enterKsLABEL">
              Enter Ks (kg/m<sup shift="-4">3</sup>)
        </p>
        <input id="input_field_enterKs" value="1.75" onchange="processUnits[1].updateUIparams()">
        <p id="field_enterMUmaxLABEL">
              Enter MUmax (1/hr)
        </p>
        <input id="input_field_enterMUmax" value="0.3" onchange="processUnits[1].updateUIparams()">
        <p id="field_enterFeedFlowRateLABEL">
              Enter feed flow rate (m<sup shift="-4">3</sup>/hr)
        </p>
        <input id="input_field_enterFeedFlowRate" value="0.02" onchange="processUnits[0].updateUIparams()">
     </div> <!-- end of div div_operatingParams -->
     <div id="div_controller">
           <div id="div_PLOTDIV_plotData">
           </div> <!-- end of div div_PLOTDIV_plotData -->
        <input type="button" id="button_copyDataButton" value="Copy data" onclick="interface.copyData(0)">
        <p id="field_enterSubstrateFeedConcLABEL">
              Substrate feed conc (kg/m<sup shift="-4">3</sup>)
        </p>
        <input id="input_field_enterSubstrateFeedConc" value="20" onchange="processUnits[2].updateUIparams()">
        <p id="field_enterResetTimeLABEL">
              Enter reset time (&gt; 0 hr)
        </p>
        <input id="input_field_enterResetTime" value="5" onchange="processUnits[2].updateUIparams()">
        <p id="field_enterGainLABEL">
              Enter controller gain
        </p>
        <input id="input_field_enterGain" value="0.2" onchange="processUnits[2].updateUIparams()">
        <p id="field_enterSetpointLABEL">
              Biomass set point (kg/m<sup shift="-4">3</sup>)
        </p>
        <input id="input_field_enterSetpoint" value="5" onchange="processUnits[2].updateUIparams()">
        <div id="div_RADIO_group_Controller">
           <label id="radio_controllerAUTO_LABEL" name="radio_of_div_RADIO_group_Controller">
                    <input type="radio" id="radio_controllerAUTO" name="radio_of_div_RADIO_group_Controller" onchange="processUnits[2].changeMode()">
                    <span id="radio_controllerAUTO_SPAN">Auto Control</span>
           </label>
           <label id="radio_controllerMANUAL_LABEL" name="radio_of_div_RADIO_group_Controller">
                    <input type="radio" id="radio_controllerMANUAL" name="radio_of_div_RADIO_group_Controller" checked onchange="processUnits[2].changeMode()">
                    <span id="radio_controllerMANUAL_SPAN">Manual Control</span>
           </label>
        </div> <!-- end of div div_RADIO_group_Controller -->
        <!-- end "div_RADIO_group_Controller" -->
     </div> <!-- end of div div_controller -->
  </div> <!-- end of div div_simFrame -->
</body>
</html>
