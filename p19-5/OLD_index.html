<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>

  <title>Web Labs at ReactorLab.net</title>

  <meta name='description' content='designed with lcCardLayoutToWeb project at GitHub'>
  <meta name='description' content='cotinuous biomass reactor'>

  <!-- A VIEWPORT META LINE IN HTML HEAD IS NECESSARY FOR CSS @MEDIA TO WORK -->
  <!-- ID used to modify with Javascript after initial loading - OR EDIT HERE -->
  <!-- suggest use content width = div_simFrame width + 2*div_simFrame left, and no scale -->
  <meta id='meta-viewport' name='viewport' content='width=817'>

  <!-- load CSS style sheets for this lab  -->
  <link rel="stylesheet" href="css/index.css">

  <!-- load SPECIFIC JAVASCRIPT for this lab -->
  <script language="javascript" src="js/process_sim_params.js" type="text/javascript"></script>
  <script language="javascript" src="js/process_units.js" type="text/javascript"></script>
  <script language="javascript" src="js/process_plot_info.js" type="text/javascript"></script>

  <!-- load COMMON JAVASCRIPT for Web Labs -->
  <script language="javascript" src="../web_labs_JS/process_controller.js" type="text/javascript"></script>
  <script language="javascript" src="../web_labs_JS/process_interface.js" type="text/javascript"></script>
  <script language="javascript" src="../web_labs_JS/process_plotter_flot.js" type="text/javascript"></script>

  <!-- load flot.js PLOTTING LIBRARY -->
  <script language="javascript" src="../web_labs_JS/jquery/new_jquery/jquery-3.3.1.min.js" type="text/javascript"></script>
  <script language="javascript" src="../web_labs_JS/jquery/new_jquery/jquery.flot.min-0.8.3.js" type="text/javascript"></script>
  <script language="javascript" src="../web_labs_JS/jquery/new_jquery/jquery.flot.axislabels-20141122.js" type="text/javascript"></script>

  <!-- initialize simulation after loading of this window -->
  <script language="javascript">
    // this works as script in html file but not in external js files
    window.onload = controller.openThisLab; // can NOT use () after openThisLab
  </script>

</head>

<body class="body page-index clearfix">

  <div id="div_page_header">
    <p>
    <a href="http://reactorlab.net/web-labs/">Back</a> to Web Labs at ReactorLab.net
    <p><b><i>Biomass Growth in Continuous Stirred Tank Reactor (CSTR), a Bioreactor</i></b></p>
    <p>
      The  reactor volume is fixed at 0.1 m<sup>3</sup>.
        <font color="blue">Click the Run button to start. Hit the enter key or click out of field after changing inputs.</font>
      </p>
      <p>
        Biomass growth rate = MUmax * substrate conc / (Ks + substrate conc)
        <br>
        Yield function = (Vmin + a * substrate conc)^p
        <br>
        Substrate consumption rate = (Biomass growth rate / Yield function) * biomass conc
      </p>
  </div> <!-- end of div id="div_page_header" -->

  <div id="reactor" class="container_reactor container_reactor-1 clearfix">
    <img id="reactorImage" class="image_reactorimage image_reactorimage-1" src="images/reactor.png">
    <div id="reactorContents" class="element_reactorcontents element_reactorcontents-1"></div>
  </div>
  <div id="reactionParams" class="container_reactionparams container_reactionparams-1">
    <p id="enterMUmaxLABEL" class="text_entermumaxlabel text_entermumaxlabel-1">Enter MUmax (1/hr)</p>
    <input id="enterMUmax" value=0.3 onchange="unit_2.updateUIparams()" class="entermumax entermumax-1" name="enterMUmax" type="text">
    <p id="enterKsLABEL"  class="text_enterkslabel text_enterkslabel-1">Enter Ks (kg/m<sup>3</sup>)</p>
    <input id="enterKs" value=1.75 onchange="unit_2.updateUIparams()" class="enterks enterks-1" name="enterKs" type="text">
    <p id="enterVminLABEL"  class="text_vminlabel text_entervminlabel-1">Enter Vmin</p>
    <input id="enterVmin" value=0.01 onchange="unit_2.updateUIparams()" class="entervmin entervmin-1" name="enterVmin" type="text">
    <p id="enterVaLABEL"  class="text_valabel text_entervalabel-1">Enter a (m<sup>3</sup>/kg)</p>
    <input id="enterVa" value=0.03 onchange="unit_2.updateUIparams()" class="enterva enterva-1" name="enterVa" type="text">
    <p cid="enterVpLABEL"  class="text_vplabel text_entervplabel-1">Enter p</p>
    <input id="enterVp" value=0.6 onchange="unit_2.updateUIparams()" class="entervp entervp-1" name="enterVp" type="text">
  </div>

  <div id="operatingParams" class="container_operatingparams container_operatingparams-1">
    <p id="enterFeedFlowRateLABEL" class="text_enterfeedflowrate text_enterfeedflowrate-1">Enter feed flow rate (m<sup>3</sup>/hr)</p>
    <input id="enterFeedFlowRate" value=0.02 onchange="unit_1.updateUIparams()" class="enterfeedflowrate enterfeedflowrate-1" name="enterFeedFlowRate" type="text">
  </div>

  <div id="controller" class="container_controller container_controller-1 clearfix">
    <button id="copyDataButton" onclick="copyData()" class="copydatabutton copydatabutton-1">Copy data</button>
    <div id="plotCanvas" class="plotcanvas plotcanvas-1"></div>
    <label class="radio-label radio-label-1 clearfix">
      <input id="radio_controllerAUTO" onchange="unit_3.changeMode()" name="control_mode" class="radio_controllerauto radio_controllerauto-1" type="radio">
      <span id="radio_autoLABEL" class="radio_autolabel radio_autolabel-1">Auto Control</span>
    </label>
    <p id="enterSetpointLABEL" class="text_entersetpointlabel text_entersetpointlabel-1">Biomass set point (kg/m<sup>3</sup>)</p>
    <input id="enterSetpoint" value=4 onchange="unit_3.updateUIparams()" class="entersetpoint entersetpoint-1" name="enterSetpoint" type="text">
    <p id="enterGainLABEL" class="text_entergainlabel text_entergainlabel-1">Enter controller gain</p>
    <input id="enterGain" value=0.2 onchange="unit_3.updateUIparams()" class="entergain entergain-1" name="enterGain" type="text">
    <p id="enterResetTimeLABEL" class="text_enterresettimelabel text_enterresettimelabel-1">Enter reset time (&gt; 0 hr)</p>
    <input id="enterResetTime" value=5 onchange="unit_3.updateUIparams()" class="enterresettime enterresettime-1" name="enterResetTime" type="text">
    <label class="radio-label radio-label-2 clearfix">
      <input id="radio_controllerMANUAL" checked onchange="unit_3.changeMode()" name="control_mode" class="radio_controllermanual radio_controllermanual-1" type="radio">
      <span id="radio_manualLABEL" class="radio_manuallabel radio_manuallabel-1">Manual</span>
    </label>
    <!-- id="enterFeedConcLABEL" MAY HAVE css visibility:hidden on open page; changed by unit_3.changeMode -->
    <p id="enterFeedConcLABEL" class="text_enterfeedconclabel text_enterfeedconclabel-1">Substrate feed conc (kg/m<sup>3</sup>)</p>
    <!-- id="enterFeedConc" MAY HAVE css visibility:hidden on open page; changed by unit_3.changeMode -->
    <input id="enterFeedConc" value=20 onchange="unit_3.updateUIparams()" class="enterfeedconc enterfeedconc-1" name="enterFeedConc" type="text">

  </div>

  <input id="resetButton" onclick="resetThisLab()" class="reset reset-1" type="button" value="Reset">
  <input id="runButton" onclick="runThisLab()" class="run run-1" type="button" value="Run">

</body>
</html>
